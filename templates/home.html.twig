{% extends 'base.html.twig' %}

{% block title %} Liste des contacts {% endblock %}

{% block content %}
   <h1>Liste des contacts</h1> 

   {% for message in app.flashes('contact_add_success')%}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
           {{ message }}
         <button type="button" class="close" data-dismiss="alert" aria-label="Close">
             <span aria-hidden="true">&times;</span>
         </button>
      </div>
   {% endfor %}

   {% for message in app.flashes('contact_edit_success') %}
      <div class="alert alert-warning alert-dismissible fade show" role="alert">
         {{ message }}
       <button type="button" class="close" data-dismiss="alert" aria-label="Close">
       <span aria-hidden="true">&times;</span>
       </button>
      </div>
   {% endfor %}

<table class="table table-dark table-striped">
  <thead>
    <tr>
    
      <th scope="col">id</th>
      <th scope="col">Nom</th>
      <th scope="col">Prénom</th>
      <th scope="col">Téléphone</th>
      <th scope="col">Adresse</th>
      <th scope="col">Ville</th>
      <th scope="col">Age</th>
      <th scope="col" class="centrer">Action</th>
    </tr>
  </thead>
  <tbody>
    {% for contact in contacts %}
    <tr>
      <th scope="row">{{ contact.id }}</th>
      <td>{{ contact.nom }}</td>
      <td>{{ contact.prenom }}</td>
      <td>{{ contact.telephone }}</td>
       <td>{{ contact.adresse }}</td>
      <td>{{ contact.ville }}</td>
      <td>{{ contact.age }}</td>
      <td><a href="{{ path('contact', {id : contact.id}) }}" type="button" class="btn btn-info">Afficher</a></td>
         {% if is_granted('ROLE_USER') %}  
      <td><a href="{{ path('edit-contact', {id : contact.id}) }}" type="button" class="btn btn-warning">Modifier</a></td>
      <td><a href="{{ path('delete', {id : contact.id}) }}" type="button" class="btn btn-danger">Supprimer</a></td>
         {% endif %}
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}

